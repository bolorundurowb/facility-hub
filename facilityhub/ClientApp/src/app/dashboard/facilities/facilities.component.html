<div>
  <c-header>
    <h3>Facilities</h3>
  </c-header>

  <c-container>
    <div class="action-row">
      <button cButton>
        <svg [cIcon]="icons.cilPlus"></svg>
        New Facility
      </button>
    </div>

    <ng-container *ngIf="!facilities.length">
      <c-callout color="warning">
        You have not created or been added to any facilities. Feel free to create one.
      </c-callout>
    </ng-container>

    <ng-container *ngIf="facilities.length">
      <c-row [gutter]="4">
        <c-col [xs]="4" [sm]="6" *ngFor="let facility of facilities">
          <c-card class="facility-card">
            <ng-container *ngIf="facility.location">
              <div cCardImg="top"
                   class="map"
                   leaflet
                   [leafletOptions]="getMapOptions(facility)">
              </div>
            </ng-container>
            <ng-container *ngIf="!facility.location">
              <img cCardImg="top" class="no-location-img" src="/assets/images/no-location.png">
            </ng-container>

            <c-card-header>
              <h5>{{ facility.name }}</h5>
            </c-card-header>
            <c-card-body>
              <p cCardText>
                <span style="font-weight: bold">Address:</span> {{ facility.address }}
              </p>
              <button cButton (click)="goToDetails(facility.id)">Details</button>
            </c-card-body>
          </c-card>
        </c-col>
      </c-row>
    </ng-container>
  </c-container>
</div>
